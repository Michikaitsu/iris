<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IRIS ‚Äì API Reference</title>

  <link rel="stylesheet" href="/docs/assets/css/styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body class="font-['Outfit']">
<canvas id="starfield"></canvas>

<main class="max-w-5xl mx-auto px-6 py-24">

  <div class="flex items-center justify-between mb-12">
    <a href="index.html" class="text-xl font-semibold text-gradient hover:no-underline">‚Üê Back to Docs</a>
    <a href="search.html" class="glass px-4 py-2 rounded-lg hover:no-underline flex items-center gap-2">
      <i class="fas fa-search"></i> Search
    </a>
  </div>

  <section class="glass p-10 rounded-2xl mb-16 text-center reveal">
    <h1 class="text-5xl font-bold text-gradient mb-4">
      <i class="fas fa-code mr-3"></i>API Reference
    </h1>
    <p class="text-lg text-muted">
      Integrate IRIS into your applications<br>
      <span class="italic">REST API for developers</span>
    </p>
  </section>

  <!-- Getting Started -->
  <section class="mb-16 reveal">
    <h2 class="text-3xl font-bold mb-6">üöÄ Getting Started</h2>

    <div class="glass p-6 rounded-xl space-y-4">
      <div>
        <h3 class="font-semibold mb-2">Base URL</h3>
        <code class="bg-black/40 px-4 py-2 rounded block">http://localhost:8000/api/v1</code>
      </div>

      <div>
        <h3 class="font-semibold mb-2">Authentication</h3>
        <p class="text-muted text-sm">API key required for external access. Include in header:</p>
        <code class="bg-black/40 px-4 py-2 rounded block text-sm mt-2">Authorization: Bearer YOUR_API_KEY</code>
      </div>

      <div>
        <h3 class="font-semibold mb-2">Rate Limits</h3>
        <p class="text-muted text-sm">Default: 100 requests per hour per IP</p>
      </div>
    </div>
  </section>

  <!-- Endpoints -->
  <section class="mb-16 reveal">
    <h2 class="text-3xl font-bold mb-6">üì° Endpoints</h2>

    <!-- Generate Image -->
    <div class="glass p-6 rounded-xl mb-6">
      <div class="flex items-center gap-3 mb-4">
        <span class="bg-green-500/20 text-green-400 px-3 py-1 rounded text-sm font-mono">POST</span>
        <code class="text-lg">/generate</code>
      </div>

      <p class="text-muted mb-4">Generate images from text prompts.</p>

      <div class="space-y-4">
        <div>
          <h4 class="font-semibold mb-2">Request Body:</h4>
          <pre class="bg-black/40 p-4 rounded-lg text-xs overflow-x-auto"><code>{
  "prompt": "a detailed portrait, highly detailed",
  "negative_prompt": "low quality, blurry",
  "steps": 30,
  "cfg_scale": 8,
  "width": 512,
  "height": 512,
  "seed": -1,
  "sampler": "DPM++ 2M Karras",
  "batch_size": 1
}</code></pre>
        </div>

        <div>
          <h4 class="font-semibold mb-2">Response:</h4>
          <pre class="bg-black/40 p-4 rounded-lg text-xs overflow-x-auto"><code>{
  "status": "success",
  "images": [
    "data:image/png;base64,..."
  ],
  "seed": 123456789,
  "generation_time": 2.34
}</code></pre>
        </div>
      </div>
    </div>

    <!-- Img2Img -->
    <div class="glass p-6 rounded-xl mb-6">
      <div class="flex items-center gap-3 mb-4">
        <span class="bg-green-500/20 text-green-400 px-3 py-1 rounded text-sm font-mono">POST</span>
        <code class="text-lg">/img2img</code>
      </div>

      <p class="text-muted mb-4">Transform existing images.</p>

      <div class="space-y-4">
        <div>
          <h4 class="font-semibold mb-2">Request Body:</h4>
          <pre class="bg-black/40 p-4 rounded-lg text-xs overflow-x-auto"><code>{
  "prompt": "cyberpunk style",
  "init_image": "base64_encoded_image",
  "denoising_strength": 0.7,
  "steps": 30,
  "cfg_scale": 8
}</code></pre>
        </div>
      </div>
    </div>

    <!-- Get Models -->
    <div class="glass p-6 rounded-xl mb-6">
      <div class="flex items-center gap-3 mb-4">
        <span class="bg-blue-500/20 text-blue-400 px-3 py-1 rounded text-sm font-mono">GET</span>
        <code class="text-lg">/models</code>
      </div>

      <p class="text-muted mb-4">List available models.</p>

      <div class="space-y-4">
        <div>
          <h4 class="font-semibold mb-2">Response:</h4>
          <pre class="bg-black/40 p-4 rounded-lg text-xs overflow-x-auto"><code>{
  "models": [
    {
      "name": "stable-diffusion-v1-5",
      "path": "models/Stable-diffusion/v1-5.safetensors",
      "type": "checkpoint"
    }
  ]
}</code></pre>
        </div>
      </div>
    </div>

    <!-- Server Status -->
    <div class="glass p-6 rounded-xl">
      <div class="flex items-center gap-3 mb-4">
        <span class="bg-blue-500/20 text-blue-400 px-3 py-1 rounded text-sm font-mono">GET</span>
        <code class="text-lg">/status</code>
      </div>

      <p class="text-muted mb-4">Check server status and capabilities.</p>

      <div class="space-y-4">
        <div>
          <h4 class="font-semibold mb-2">Response:</h4>
          <pre class="bg-black/40 p-4 rounded-lg text-xs overflow-x-auto"><code>{
  "status": "online",
  "cuda_available": true,
  "gpu_name": "NVIDIA RTX 3060",
  "vram_total": "12GB",
  "vram_free": "8GB"
}</code></pre>
        </div>
      </div>
    </div>
  </section>

  <!-- Code Examples -->
  <section class="mb-16 reveal">
    <h2 class="text-3xl font-bold mb-6">üíª Code Examples</h2>

    <!-- Python Example -->
    <div class="glass p-6 rounded-xl mb-6">
      <h3 class="text-xl font-semibold mb-4 flex items-center gap-2">
        <i class="fab fa-python text-gradient"></i>
        Python
      </h3>
      <pre class="bg-black/40 p-4 rounded-lg text-xs overflow-x-auto"><code>import requests

url = "http://localhost:8000/api/v1/generate"
headers = {"Authorization": "Bearer YOUR_API_KEY"}

data = {
    "prompt": "a detailed portrait, highly detailed",
    "negative_prompt": "low quality, blurry",
    "steps": 30,
    "cfg_scale": 8,
    "width": 512,
    "height": 512
}

response = requests.post(url, json=data, headers=headers)
result = response.json()

if result["status"] == "success":
    image_data = result["images"][0]
    # Process image_data
</code></pre>
    </div>

    <!-- JavaScript Example -->
    <div class="glass p-6 rounded-xl mb-6">
      <h3 class="text-xl font-semibold mb-4 flex items-center gap-2">
        <i class="fab fa-js text-gradient"></i>
        JavaScript
      </h3>
      <pre class="bg-black/40 p-4 rounded-lg text-xs overflow-x-auto"><code>const url = "http://localhost:8000/api/v1/generate";

const data = {
  prompt: "a detailed portrait, highly detailed",
  negative_prompt: "low quality, blurry",
  steps: 30,
  cfg_scale: 8,
  width: 512,
  height: 512
};

fetch(url, {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "Authorization": "Bearer YOUR_API_KEY"
  },
  body: JSON.stringify(data)
})
.then(res => res.json())
.then(result => {
  if (result.status === "success") {
    const imageData = result.images[0];
    // Process imageData
  }
});
</code></pre>
    </div>

    <!-- cURL Example -->
    <div class="glass p-6 rounded-xl">
      <h3 class="text-xl font-semibold mb-4 flex items-center gap-2">
        <i class="fas fa-terminal text-gradient"></i>
        cURL
      </h3>
      <pre class="bg-black/40 p-4 rounded-lg text-xs overflow-x-auto"><code>curl -X POST http://localhost:8000/api/v1/generate \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "a detailed portrait, highly detailed",
    "negative_prompt": "low quality, blurry",
    "steps": 30,
    "cfg_scale": 8,
    "width": 512,
    "height": 512
  }'
</code></pre>
    </div>
  </section>

  <!-- Error Codes -->
  <section class="mb-16 reveal">
    <h2 class="text-3xl font-bold mb-6">‚ö†Ô∏è Error Codes</h2>

    <div class="glass p-6 rounded-xl">
      <div class="space-y-3">
        <div class="flex justify-between items-center border-b border-white/10 pb-2">
          <code class="text-red-400">400</code>
          <span class="text-muted text-sm">Bad Request - Invalid parameters</span>
        </div>
        <div class="flex justify-between items-center border-b border-white/10 pb-2">
          <code class="text-red-400">401</code>
          <span class="text-muted text-sm">Unauthorized - Invalid API key</span>
        </div>
        <div class="flex justify-between items-center border-b border-white/10 pb-2">
          <code class="text-red-400">429</code>
          <span class="text-muted text-sm">Too Many Requests - Rate limit exceeded</span>
        </div>
        <div class="flex justify-between items-center border-b border-white/10 pb-2">
          <code class="text-red-400">500</code>
          <span class="text-muted text-sm">Server Error - Generation failed</span>
        </div>
        <div class="flex justify-between items-center">
          <code class="text-red-400">503</code>
          <span class="text-muted text-sm">Service Unavailable - Server offline</span>
        </div>
      </div>
    </div>
  </section>

</main>

<footer class="text-center text-muted py-16">
  <a href="index.html" class="text-gradient">‚Üê Back to Docs</a>
</footer>

<script src="assets/js/starfield.js"></script>
<script>
  const observer = new IntersectionObserver(entries => {
    entries.forEach(e => e.isIntersecting && e.target.classList.add('active'));
  });
  document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
</script>

</body>
</html>
