<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IRIS ‚Äì Documentation</title>
  <link rel="icon" type="image/x-icon" href="assets/fav.ico">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="assets/css/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body class="font-['Outfit']">
<canvas id="starfield"></canvas>

<!-- Sticky Navigation -->
<nav class="glass sticky top-0 z-50 backdrop-blur-lg">
  <div class="max-w-6xl mx-auto px-6 py-4">
    <div class="flex items-center justify-between">
      <a href="#home" class="text-2xl font-bold text-gradient hover:no-underline">IRIS</a>
      <div class="flex items-center gap-2 overflow-x-auto">
        <button class="nav-btn active" data-section="home">Home</button>
        <button class="nav-btn" data-section="search">Search</button>
        <button class="nav-btn" data-section="setup">Setup</button>
        <button class="nav-btn" data-section="usage">Usage</button>
        <button class="nav-btn" data-section="prompts">Prompts</button>
        <button class="nav-btn" data-section="artifacts">Artifacts</button>
        <button class="nav-btn" data-section="faq">FAQ</button>
        <button class="nav-btn" data-section="troubleshooting">Troubleshooting</button>
        <button class="nav-btn" data-section="api">API</button>
      </div>
    </div>
  </div>
</nav>

<!-- Main Container -->
<main class="max-w-6xl mx-auto px-6">

  <!-- HOME SECTION -->
  <section id="home" class="page-section active">
    <header class="py-24 text-center">
      <h1 class="text-5xl md:text-6xl font-bold text-gradient mb-6">I.R.I.S.</h1>
      <p class="text-muted text-lg max-w-2xl mx-auto">Intelligent Rendering & Image Synthesis ‚Äì Local AI Image Generation</p>
    </header>

    <div class="grid gap-8 md:grid-cols-3 pb-24">
      <a href="#search" class="glass p-6 rounded-xl reveal hover:no-underline" onclick="navigateTo('search')">
        <h2 class="text-xl font-semibold mb-2"><i class="fas fa-search mr-2"></i>Search</h2>
        <p class="text-muted">Find answers quickly</p>
      </a>

      <a href="#setup" class="glass p-6 rounded-xl reveal hover:no-underline" onclick="navigateTo('setup')">
        <h2 class="text-xl font-semibold mb-2"><i class="fas fa-cog mr-2"></i>Setup</h2>
        <p class="text-muted">Installation & configuration</p>
      </a>
      <a href="#faq" class="glass p-6 rounded-xl reveal hover:no-underline" onclick="navigateTo('faq')">
        <h2 class="text-xl font-semibold mb-2"><i class="fas fa-question-circle mr-2"></i>FAQ</h2>
        <p class="text-muted">Frequently asked questions</p>
      </a>
      <a href="#usage" class="glass p-6 rounded-xl reveal hover:no-underline" onclick="navigateTo('usage')">
        <h2 class="text-xl font-semibold mb-2"><i class="fas fa-book-open mr-2"></i>Usage Guide</h2>
        <p class="text-muted">Features & parameters</p>
      </a>
      <a href="#artifacts" class="glass p-6 rounded-xl reveal hover:no-underline" onclick="navigateTo('artifacts')">
        <h2 class="text-xl font-semibold mb-2"><i class="fas fa-image mr-2"></i>Artifacts</h2>
        <p class="text-muted">Common issues & fixes</p>
      </a>
      <a href="#prompts" class="glass p-6 rounded-xl reveal hover:no-underline" onclick="navigateTo('prompts')">
        <h2 class="text-xl font-semibold mb-2"><i class="fas fa-pen-fancy mr-2"></i>Prompt Engineering</h2>
        <p class="text-muted">Write better prompts</p>
      </a>
      <a href="#troubleshooting" class="glass p-6 rounded-xl reveal hover:no-underline" onclick="navigateTo('troubleshooting')">
        <h2 class="text-xl font-semibold mb-2"><i class="fas fa-tools mr-2"></i>Troubleshooting</h2>
        <p class="text-muted">Fix common problems</p>
      </a>
      <a href="#api" class="glass p-6 rounded-xl reveal hover:no-underline" onclick="navigateTo('api')">
        <h2 class="text-xl font-semibold mb-2"><i class="fas fa-code mr-2"></i>API Reference</h2>
        <p class="text-muted">REST & WebSocket APIs</p>
      </a>
      <a href="screenshots/" class="glass p-6 rounded-xl reveal hover:no-underline">
        <h2 class="text-xl font-semibold mb-2"><i class="fas fa-images mr-2"></i>Screenshots</h2>
        <p class="text-muted">UI examples</p>
      </a>
    </div>
  </section>

  <!-- SEARCH SECTION -->
  <section id="search" class="page-section">
    <div class="py-12">
      <div class="text-center mb-8 reveal">
        <h1 class="text-5xl font-bold text-gradient mb-4"><i class="fas fa-search mr-3"></i>Search Documentation</h1>
        <p class="text-lg text-muted">Find answers quickly across all documentation</p>
      </div>
      <div class="glass p-6 rounded-xl reveal mb-12">
        <div class="relative">
          <input type="text" id="searchInput" placeholder="Search for anything... (Press / to focus)" class="w-full px-6 py-4 bg-black/40 border border-white/10 rounded-lg text-lg focus:outline-none focus:border-purple-500 transition-colors" autocomplete="off" />
          <i class="fas fa-search absolute right-6 top-1/2 -translate-y-1/2 text-muted text-xl"></i>
        </div>
        <div class="mt-4 flex flex-wrap gap-2">
          <span class="text-sm text-muted">Quick searches:</span>
          <button class="quick-search text-xs glass px-3 py-1 rounded-full hover:border-purple-500" data-query="installation">Installation</button>
          <button class="quick-search text-xs glass px-3 py-1 rounded-full hover:border-purple-500" data-query="cuda">CUDA</button>
          <button class="quick-search text-xs glass px-3 py-1 rounded-full hover:border-purple-500" data-query="upscale">Upscale</button>
          <button class="quick-search text-xs glass px-3 py-1 rounded-full hover:border-purple-500" data-query="discord">Discord</button>
        </div>
      </div>
      <div id="searchStats" class="text-center text-muted mb-6 hidden">Found <span id="resultCount" class="text-gradient font-semibold">0</span> results</div>
      <div id="searchResults" class="space-y-6"></div>
      <div id="emptyState" class="text-center py-24 reveal">
        <i class="fas fa-book-open text-6xl text-muted mb-6"></i>
        <h2 class="text-2xl font-semibold mb-3">Start Searching</h2>
        <p class="text-muted max-w-md mx-auto">Type your question or topic in the search box above</p>
      </div>
      <div id="noResults" class="text-center py-24 hidden">
        <i class="fas fa-search text-6xl text-muted mb-6"></i>
        <h2 class="text-2xl font-semibold mb-3">No Results Found</h2>
        <p class="text-muted max-w-md mx-auto">Try different keywords</p>
      </div>
    </div>
  </section>


  <!-- SETUP SECTION -->
  <section id="setup" class="page-section">
    <div class="py-24">
      <div class="glass p-10 rounded-2xl mb-16 text-center reveal">
        <h1 class="text-5xl font-bold text-gradient mb-4"><i class="fas fa-cog mr-3"></i>Setup Guide</h1>
        <p class="text-lg text-muted">Complete Installation Guide for <strong>I.R.I.S.</strong></p>
      </div>

      <div class="glass p-8 rounded-xl mb-12 reveal">
        <h2 class="text-2xl font-semibold mb-4"><i class="fas fa-list mr-2"></i>Contents</h2>
        <ul class="space-y-2 text-muted">
          <li><a href="#requirements" class="hover:text-gradient">System Requirements</a></li>
          <li><a href="#installation" class="hover:text-gradient">Installation</a></li>
          <li><a href="#configuration" class="hover:text-gradient">Configuration</a></li>
          <li><a href="#first-run" class="hover:text-gradient">First Run</a></li>
        </ul>
      </div>

      <div id="requirements" class="mb-16 reveal">
        <h2 class="text-3xl font-bold mb-6"><i class="fas fa-desktop mr-2"></i>System Requirements</h2>
        <div class="glass p-6 rounded-xl overflow-x-auto">
          <table class="w-full text-left border-collapse">
            <thead>
              <tr class="text-muted">
                <th class="pb-3">Tier</th><th class="pb-3">GPU</th><th class="pb-3">VRAM</th><th class="pb-3">Notes</th>
              </tr>
            </thead>
            <tbody>
              <tr class="border-t border-white/10"><td class="py-2">Minimum</td><td>GTX 1650</td><td>4GB</td><td>DRAM Extension recommended</td></tr>
              <tr class="border-t border-white/10"><td class="py-2">Sweet Spot</td><td>Intel Arc B580</td><td>12GB</td><td>Best value for money</td></tr>
              <tr class="border-t border-white/10"><td class="py-2">Advanced</td><td>RTX 4070 Super</td><td>12GB</td><td>Fast inference</td></tr>
              <tr class="border-t border-white/10"><td class="py-2">Professional</td><td>RTX 4090</td><td>24GB</td><td>No-compromise</td></tr>
              <tr class="border-t border-white/10"><td class="py-2">CPU Only</td><td>8+ cores</td><td>‚Äì</td><td>16GB+ RAM, very slow</td></tr>
            </tbody>
          </table>
        </div>
        <p class="text-muted mt-4 text-sm">üí° I.R.I.S. was developed and tested on a GTX 1650, proving functionality on low-end hardware.</p>
      </div>

      <div id="installation" class="mb-16 reveal">
        <h2 class="text-3xl font-bold mb-6"><i class="fas fa-download mr-2"></i>Installation</h2>
        <div class="glass p-6 rounded-xl space-y-4">
          <pre class="bg-black/40 p-4 rounded-lg text-sm overflow-x-auto">git clone https://github.com/KaiTooast/iris.git
cd iris

python -m venv venv
# Windows:
venv\Scripts\activate
# Linux/macOS:
source venv/bin/activate

pip install -r requirements.txt

# Optional: Copy environment template
cp .env.example .env</pre>
        </div>
      </div>

      <div id="configuration" class="mb-16 reveal">
        <h2 class="text-3xl font-bold mb-6"><i class="fas fa-sliders-h mr-2"></i>Configuration</h2>
        <div class="glass p-6 rounded-xl space-y-6">
          <div>
            <h3 class="text-xl font-semibold mb-3">settings.json</h3>
            <p class="text-muted mb-3">Main configuration file in project root:</p>
            <pre class="bg-black/40 p-4 rounded-lg text-sm">{
  "dramEnabled": true,      // Use system RAM for low VRAM GPUs
  "vramThreshold": 6,       // VRAM threshold (GB) for DRAM Extension
  "maxDram": 8,             // Maximum system RAM to use (GB)
  "nsfwStrength": 2,        // 1=Minimal, 2=Standard, 3=Strict
  "discordEnabled": false   // Auto-start Discord bot
}</pre>
          </div>
          <div>
            <h3 class="text-xl font-semibold mb-3">.env (Optional)</h3>
            <p class="text-muted mb-3">For Discord bot and advanced settings:</p>
            <pre class="bg-black/40 p-4 rounded-lg text-sm">HOST=0.0.0.0
PORT=8000
DISCORD_BOT_TOKEN=your_token
DISCORD_CHANNEL_NEW_IMAGES=channel_id
DISCORD_CHANNEL_VARIATIONS=channel_id
DISCORD_CHANNEL_UPSCALED=channel_id</pre>
          </div>
        </div>
      </div>

      <div id="first-run" class="mb-16 reveal">
        <h2 class="text-3xl font-bold mb-6"><i class="fas fa-play mr-2"></i>First Run</h2>
        <div class="glass p-6 rounded-xl space-y-4">
          <pre class="bg-black/40 p-4 rounded-lg text-sm"># Auto-start based on settings.json
python src/start.py

# Force start without Discord bot
python src/start.py --no-bot</pre>
          <p class="text-muted">On first run, the AI model will download (~5GB). This only happens once per model.</p>
          <p class="text-muted">üåê Open: <code class="bg-black/40 px-2 py-1 rounded">http://localhost:8000</code></p>
        </div>
      </div>
    </div>
  </section>


  <!-- USAGE SECTION -->
  <section id="usage" class="page-section">
    <div class="py-24">
      <div class="glass p-10 rounded-2xl mb-16 text-center reveal">
        <h1 class="text-5xl font-bold text-gradient mb-4"><i class="fas fa-book-open mr-3"></i>Usage Guide</h1>
        <p class="text-lg text-muted">Master <strong>I.R.I.S.</strong> with this comprehensive guide</p>
      </div>

      <div class="mb-16 reveal">
        <h2 class="text-3xl font-bold mb-6"><i class="fas fa-paint-brush mr-2"></i>Basic Usage</h2>
        <div class="space-y-6">
          <div class="glass p-6 rounded-xl">
            <h3 class="text-xl font-semibold mb-3">1. Launch</h3>
            <pre class="bg-black/40 p-4 rounded-lg text-sm">python src/start.py</pre>
            <p class="text-muted mt-3">Open <code class="bg-black/40 px-2 py-1 rounded">http://localhost:8000</code> ‚Üí Click "Generate"</p>
          </div>
          <div class="glass p-6 rounded-xl">
            <h3 class="text-xl font-semibold mb-3">2. Write Your Prompt</h3>
            <p class="text-muted mb-3">Describe what you want to see:</p>
            <div class="bg-black/40 p-4 rounded-lg text-sm italic">"a detailed portrait of a cyberpunk warrior, neon lighting, highly detailed, masterpiece, 8k"</div>
          </div>
          <div class="glass p-6 rounded-xl">
            <h3 class="text-xl font-semibold mb-3">3. Adjust Parameters</h3>
            <ul class="text-muted space-y-2">
              <li><strong>Steps:</strong> 20-35 for most images (default: 35)</li>
              <li><strong>CFG Scale:</strong> 8-12 for balanced results (default: 10)</li>
              <li><strong>Resolution:</strong> 512√ó768 recommended for low VRAM</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="mb-16 reveal">
        <h2 class="text-3xl font-bold mb-6"><i class="fas fa-bolt mr-2"></i>Parameters Explained</h2>
        <div class="space-y-4">
          <div class="glass p-6 rounded-xl">
            <h3 class="text-xl font-semibold mb-2">CFG Scale (Guidance)</h3>
            <p class="text-muted mb-3">Controls how closely the AI follows your prompt.</p>
            <ul class="text-muted space-y-1 list-disc list-inside">
              <li><strong>Low (5-7):</strong> More creative, less accurate</li>
              <li><strong>Medium (8-12):</strong> Balanced (recommended)</li>
              <li><strong>High (15+):</strong> Very literal, may oversaturate</li>
            </ul>
          </div>
          <div class="glass p-6 rounded-xl">
            <h3 class="text-xl font-semibold mb-2">Sampling Steps</h3>
            <ul class="text-muted space-y-1 list-disc list-inside">
              <li><strong>20 steps:</strong> Fast, decent quality</li>
              <li><strong>30-35 steps:</strong> Good balance (default)</li>
              <li><strong>50+ steps:</strong> Diminishing returns</li>
            </ul>
          </div>
          <div class="glass p-6 rounded-xl">
            <h3 class="text-xl font-semibold mb-2">Seed</h3>
            <p class="text-muted">Use -1 for random. Same seed + same prompt = same image. Great for variations.</p>
          </div>
        </div>
      </div>

      <div class="mb-16 reveal">
        <h2 class="text-3xl font-bold mb-6"><i class="fas fa-expand-arrows-alt mr-2"></i>Upscaling</h2>
        <div class="glass p-6 rounded-xl space-y-4">
          <p class="text-muted">Select an image from the library and click "Upscale" to enhance resolution.</p>
          <div class="grid md:grid-cols-2 gap-4">
            <div class="bg-black/40 p-4 rounded-lg">
              <h4 class="font-semibold mb-2">Lanczos</h4>
              <p class="text-muted text-sm">Fast, always available. Good for quick upscales.</p>
            </div>
            <div class="bg-black/40 p-4 rounded-lg">
              <h4 class="font-semibold mb-2">Real-ESRGAN</h4>
              <p class="text-muted text-sm">AI-powered, better quality. Requires additional setup.</p>
            </div>
          </div>
          <p class="text-muted text-sm">Scale factors: 2√ó, 4√ó (8√ó available via API)</p>
        </div>
      </div>

      <div class="mb-16 reveal">
        <h2 class="text-3xl font-bold mb-6"><i class="fas fa-layer-group mr-2"></i>Generation Queue</h2>
        <div class="glass p-6 rounded-xl space-y-4">
          <p class="text-muted">Queue multiple generations and process them sequentially.</p>
          <ul class="text-muted space-y-1 list-disc list-inside">
            <li>Add items to queue via API or batch endpoint</li>
            <li>Reorder, cancel, or remove pending items</li>
            <li>Process all at once or one by one</li>
            <li>View queue statistics and history</li>
          </ul>
        </div>
      </div>

      <div class="mb-16 reveal">
        <h2 class="text-3xl font-bold mb-6"><i class="fab fa-discord mr-2"></i>Discord Bot</h2>
        <div class="glass p-6 rounded-xl space-y-4">
          <p class="text-muted">Optional Discord integration for automatic image posting.</p>
          <ol class="text-muted space-y-2 list-decimal list-inside">
            <li>Create a bot at <a href="https://discord.com/developers/applications" class="text-gradient">Discord Developer Portal</a></li>
            <li>Copy the Bot Token to <code class="bg-black/40 px-2 py-1 rounded">.env</code></li>
            <li>Set channel IDs for new images, variations, and upscaled images</li>
            <li>Enable in <code class="bg-black/40 px-2 py-1 rounded">settings.json</code>: <code>"discordEnabled": true</code></li>
          </ol>
          <p class="text-muted text-sm">The bot automatically posts generated images to configured channels.</p>
        </div>
      </div>
    </div>
  </section>


  <!-- PROMPTS SECTION -->
  <section id="prompts" class="page-section">
    <div class="py-24">
      <div class="glass p-10 rounded-2xl mb-16 text-center reveal">
        <h1 class="text-5xl font-bold text-gradient mb-4"><i class="fas fa-pen-fancy mr-3"></i>Prompt Engineering</h1>
        <p class="text-lg text-muted">Master the art of writing effective prompts</p>
      </div>

      <div class="mb-16 reveal">
        <h2 class="text-3xl font-bold mb-6"><i class="fas fa-edit mr-2"></i>Prompt Structure</h2>
        <div class="glass p-8 rounded-xl space-y-6">
          <div class="bg-black/40 p-6 rounded-lg border-l-4 border-purple-500">
            <div class="text-sm text-muted mb-2">Basic Template:</div>
            <div class="font-mono text-sm">[Subject] + [Style] + [Quality] + [Details]</div>
          </div>
          <div class="space-y-4">
            <div>
              <h3 class="font-semibold mb-2">1. Subject (What)</h3>
              <p class="text-muted">The main focus: "a warrior", "mountain landscape", "futuristic city"</p>
            </div>
            <div>
              <h3 class="font-semibold mb-2">2. Style (How it looks)</h3>
              <p class="text-muted">Art style: "digital art", "oil painting", "photorealistic", "anime"</p>
            </div>
            <div>
              <h3 class="font-semibold mb-2">3. Quality Tags</h3>
              <p class="text-muted">Modifiers: "masterpiece", "highly detailed", "8k", "professional"</p>
            </div>
          </div>
        </div>
      </div>

      <div class="mb-16 reveal">
        <h2 class="text-3xl font-bold mb-6"><i class="fas fa-star mr-2"></i>Effective Examples</h2>
        <div class="space-y-6">
          <div class="glass p-6 rounded-xl">
            <h3 class="text-lg font-semibold mb-2"><i class="fas fa-user mr-2"></i>Portrait</h3>
            <div class="bg-black/40 p-4 rounded-lg text-sm italic mb-3">"close-up portrait of a woman, studio lighting, bokeh background, professional photography, highly detailed, 8k"</div>
          </div>
          <div class="glass p-6 rounded-xl">
            <h3 class="text-lg font-semibold mb-2"><i class="fas fa-robot mr-2"></i>Cyberpunk</h3>
            <div class="bg-black/40 p-4 rounded-lg text-sm italic mb-3">"cyberpunk city street at night, neon lights, rain puddles reflecting lights, blade runner style, cinematic"</div>
          </div>
          <div class="glass p-6 rounded-xl">
            <h3 class="text-lg font-semibold mb-2"><i class="fas fa-gamepad mr-2"></i>Pixel Art</h3>
            <div class="bg-black/40 p-4 rounded-lg text-sm italic mb-3">"pixel art forest scene, 16-bit style, retro game aesthetic, vibrant colors"</div>
            <p class="text-muted text-sm">Use the "pixel_art" style for automatic pixel art prompting.</p>
          </div>
        </div>
      </div>

      <div class="mb-16 reveal">
        <h2 class="text-3xl font-bold mb-6"><i class="fas fa-ban mr-2"></i>Negative Prompts</h2>
        <div class="glass p-8 rounded-xl space-y-4">
          <p class="text-muted">Tell the AI what you DON'T want. Essential for quality results.</p>
          <div class="bg-black/40 p-4 rounded-lg">
            <div class="text-sm text-muted mb-2">Common Negative Prompt:</div>
            <div class="text-sm italic">"low quality, worst quality, blurry, distorted, ugly, deformed, bad anatomy, extra limbs, watermark, text"</div>
          </div>
          <p class="text-muted text-sm">I.R.I.S. automatically adds "lowres, bad anatomy, worst quality" if no negative prompt is provided.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ARTIFACTS SECTION -->
  <section id="artifacts" class="page-section">
    <div class="py-24 space-y-24">
      <div class="text-center space-y-4 reveal">
        <h1 class="text-5xl font-bold text-gradient"><i class="fas fa-image mr-3"></i>Artifact Gallery</h1>
        <p class="text-lg text-muted">When AI gets a little <em>too</em> creative. Common artifacts & how to fix them.</p>
      </div>

      <div class="glass p-8 reveal space-y-4">
        <h2 class="text-2xl font-semibold"><i class="fas fa-question mr-2"></i>What Are Artifacts?</h2>
        <p class="text-muted">Visual errors caused by conflicting data, resolution limits, or prompt ambiguity.</p>
      </div>

      <div class="space-y-12">
        <div class="glass p-8 reveal space-y-3">
          <h3 class="text-xl font-semibold"><i class="fas fa-users mr-2"></i>The Clone Saga</h3>
          <p><strong>Symptom:</strong> Two (or more) heads, merged faces</p>
          <p><strong>Cause:</strong> High resolution (1024px+) without proper training</p>
          <p><strong>Fix:</strong> Use <code class="bg-black/40 px-2 py-1 rounded">512√ó768</code> and upscale afterwards</p>
        </div>
        <div class="glass p-8 reveal space-y-3">
          <h3 class="text-xl font-semibold"><i class="fas fa-hand-paper mr-2"></i>Hand Horror</h3>
          <p><strong>Symptom:</strong> 6+ fingers, backwards thumbs</p>
          <p><strong>Cause:</strong> Confusing hand pose training data</p>
          <p><strong>Fix:</strong> Add <code class="bg-black/40 px-2 py-1 rounded">normal hands, five fingers</code> to prompt</p>
        </div>
        <div class="glass p-8 reveal space-y-3">
          <h3 class="text-xl font-semibold"><i class="fas fa-font mr-2"></i>Almost-Words</h3>
          <p><strong>Symptom:</strong> Text like "ƒå√ÖFƒí" instead of "CAFE"</p>
          <p><strong>Cause:</strong> Stable Diffusion is bad at text</p>
          <p><strong>Fix:</strong> Add text in post-processing or use SDXL models</p>
        </div>
      </div>

      <div class="glass p-8 reveal space-y-4">
        <h2 class="text-2xl font-semibold"><i class="fas fa-shield-alt mr-2"></i>Prevention Tips</h2>
        <ol class="list-decimal list-inside space-y-1 text-muted">
          <li>Start small: 512√ó512 ‚Üí upscale</li>
          <li>Use strong negative prompts</li>
          <li>Simple prompts beat complex ones</li>
          <li>Test different seeds</li>
          <li>CFG sweet spot: 8‚Äì12 (not 20)</li>
        </ol>
      </div>
    </div>
  </section>


  <!-- FAQ SECTION -->
  <section id="faq" class="page-section">
    <div class="py-24">
      <div class="glass p-10 rounded-2xl mb-16 text-center reveal">
        <h1 class="text-5xl font-bold text-gradient mb-4"><i class="fas fa-question-circle mr-3"></i>FAQ</h1>
        <p class="text-lg text-muted">Frequently Asked Questions</p>
      </div>

      <div class="glass p-4 rounded-xl mb-12 reveal">
        <input type="text" id="faqSearch" placeholder="Search FAQ..." class="w-full px-4 py-3 bg-black/40 border border-white/10 rounded-lg focus:outline-none focus:border-purple-500" />
      </div>

      <div class="flex flex-wrap gap-3 mb-12 reveal">
        <button class="faq-filter active glass px-4 py-2 rounded-lg transition-all" data-category="all">All</button>
        <button class="faq-filter glass px-4 py-2 rounded-lg transition-all" data-category="beginner">Beginner</button>
        <button class="faq-filter glass px-4 py-2 rounded-lg transition-all" data-category="technical">Technical</button>
        <button class="faq-filter glass px-4 py-2 rounded-lg transition-all" data-category="usage">Usage</button>
      </div>

      <div id="faqContainer" class="space-y-6">
        <div class="faq-item glass p-6 rounded-xl reveal" data-category="beginner" data-keywords="what is iris stable diffusion ai image">
          <button class="faq-question w-full text-left flex items-start justify-between group">
            <h3 class="text-xl font-semibold group-hover:text-gradient pr-4">What is I.R.I.S.?</h3>
            <i class="fas fa-chevron-down text-muted transition-transform group-hover:text-gradient"></i>
          </button>
          <div class="faq-answer hidden mt-4 text-muted space-y-2">
            <p>I.R.I.S. (Intelligent Rendering & Image Synthesis) is a local-first AI image generation platform based on Stable Diffusion. It runs entirely on your hardware with no cloud dependency.</p>
          </div>
        </div>

        <div class="faq-item glass p-6 rounded-xl reveal" data-category="beginner" data-keywords="gpu requirements rtx cuda vram minimum">
          <button class="faq-question w-full text-left flex items-start justify-between group">
            <h3 class="text-xl font-semibold group-hover:text-gradient pr-4">What GPU do I need?</h3>
            <i class="fas fa-chevron-down text-muted transition-transform group-hover:text-gradient"></i>
          </button>
          <div class="faq-answer hidden mt-4 text-muted space-y-2">
            <p><strong>Minimum:</strong> GTX 1650 with 4GB VRAM (with DRAM Extension)</p>
            <p><strong>Recommended:</strong> RTX 3060 / Intel Arc B580 with 12GB VRAM</p>
            <p><strong>CPU-only:</strong> Possible but very slow (30-60 min per image)</p>
          </div>
        </div>

        <div class="faq-item glass p-6 rounded-xl reveal" data-category="technical" data-keywords="dram extension ram memory vram low">
          <button class="faq-question w-full text-left flex items-start justify-between group">
            <h3 class="text-xl font-semibold group-hover:text-gradient pr-4">What is DRAM Extension?</h3>
            <i class="fas fa-chevron-down text-muted transition-transform group-hover:text-gradient"></i>
          </button>
          <div class="faq-answer hidden mt-4 text-muted space-y-2">
            <p>DRAM Extension uses your system RAM as overflow when GPU VRAM is insufficient. Enable it in settings.json or the Settings page.</p>
            <p>Recommended for GPUs with less than 6GB VRAM.</p>
          </div>
        </div>

        <div class="faq-item glass p-6 rounded-xl reveal" data-category="usage" data-keywords="upscale image resolution enhance">
          <button class="faq-question w-full text-left flex items-start justify-between group">
            <h3 class="text-xl font-semibold group-hover:text-gradient pr-4">How do I upscale images?</h3>
            <i class="fas fa-chevron-down text-muted transition-transform group-hover:text-gradient"></i>
          </button>
          <div class="faq-answer hidden mt-4 text-muted space-y-2">
            <p>1. Select an image from the library (click on it)</p>
            <p>2. Click the "Upscale" button</p>
            <p>3. Choose method (Lanczos or Real-ESRGAN) and scale (2√ó or 4√ó)</p>
            <p>4. Click "Apply Upscale"</p>
          </div>
        </div>

        <div class="faq-item glass p-6 rounded-xl reveal" data-category="technical" data-keywords="cuda not detected pytorch nvidia driver">
          <button class="faq-question w-full text-left flex items-start justify-between group">
            <h3 class="text-xl font-semibold group-hover:text-gradient pr-4">CUDA not detected?</h3>
            <i class="fas fa-chevron-down text-muted transition-transform group-hover:text-gradient"></i>
          </button>
          <div class="faq-answer hidden mt-4 text-muted space-y-2">
            <ol class="list-decimal list-inside space-y-1">
              <li>Update NVIDIA drivers</li>
              <li>Reinstall PyTorch with CUDA: <code class="bg-black/40 px-2 py-1 rounded text-xs">pip install torch --index-url https://download.pytorch.org/whl/cu118</code></li>
              <li>Verify: <code class="bg-black/40 px-2 py-1 rounded text-xs">python -c "import torch; print(torch.cuda.is_available())"</code></li>
            </ol>
          </div>
        </div>

        <div class="faq-item glass p-6 rounded-xl reveal" data-category="technical" data-keywords="out of memory vram error cuda oom">
          <button class="faq-question w-full text-left flex items-start justify-between group">
            <h3 class="text-xl font-semibold group-hover:text-gradient pr-4">Out of Memory errors?</h3>
            <i class="fas fa-chevron-down text-muted transition-transform group-hover:text-gradient"></i>
          </button>
          <div class="faq-answer hidden mt-4 text-muted space-y-2">
            <ul class="list-disc list-inside space-y-1">
              <li>Reduce resolution (try 512√ó512)</li>
              <li>Enable DRAM Extension in Settings</li>
              <li>Reduce steps (20-30)</li>
              <li>Close other GPU applications</li>
            </ul>
            <p class="text-sm">I.R.I.S. automatically adjusts parameters when VRAM is low.</p>
          </div>
        </div>

        <div class="faq-item glass p-6 rounded-xl reveal" data-category="usage" data-keywords="discord bot setup token channel">
          <button class="faq-question w-full text-left flex items-start justify-between group">
            <h3 class="text-xl font-semibold group-hover:text-gradient pr-4">How do I set up the Discord bot?</h3>
            <i class="fas fa-chevron-down text-muted transition-transform group-hover:text-gradient"></i>
          </button>
          <div class="faq-answer hidden mt-4 text-muted space-y-2">
            <ol class="list-decimal list-inside space-y-1">
              <li>Create a bot at Discord Developer Portal</li>
              <li>Copy token to .env file</li>
              <li>Set channel IDs in .env</li>
              <li>Set <code class="bg-black/40 px-2 py-1 rounded">"discordEnabled": true</code> in settings.json</li>
              <li>Restart I.R.I.S.</li>
            </ol>
          </div>
        </div>

        <div class="faq-item glass p-6 rounded-xl reveal" data-category="usage" data-keywords="nsfw filter content safety">
          <button class="faq-question w-full text-left flex items-start justify-between group">
            <h3 class="text-xl font-semibold group-hover:text-gradient pr-4">How does the NSFW filter work?</h3>
            <i class="fas fa-chevron-down text-muted transition-transform group-hover:text-gradient"></i>
          </button>
          <div class="faq-answer hidden mt-4 text-muted space-y-2">
            <p>The NSFW filter checks prompts for inappropriate content before generation.</p>
            <p>Three strength levels: Minimal (1), Standard (2), Strict (3)</p>
            <p>Configure in settings.json or the Settings page.</p>
          </div>
        </div>
      </div>
    </div>
  </section>


  <!-- TROUBLESHOOTING SECTION -->
  <section id="troubleshooting" class="page-section">
    <div class="py-24">
      <div class="glass p-10 rounded-2xl mb-16 text-center reveal">
        <h1 class="text-5xl font-bold text-gradient mb-4"><i class="fas fa-tools mr-3"></i>Troubleshooting</h1>
        <p class="text-lg text-muted">Solutions to common problems</p>
      </div>

      <div class="mb-16 reveal">
        <h2 class="text-3xl font-bold mb-6"><i class="fas fa-bolt mr-2"></i>Quick Fixes</h2>
        <div class="grid md:grid-cols-2 gap-6">
          <div class="glass p-6 rounded-xl">
            <i class="fas fa-memory text-3xl text-gradient mb-3"></i>
            <h3 class="text-xl font-semibold mb-2">Out of Memory</h3>
            <ul class="text-muted text-sm space-y-1 list-disc list-inside">
              <li>Reduce resolution to 512√ó512</li>
              <li>Enable DRAM Extension</li>
              <li>Reduce steps to 20-30</li>
              <li>Close other applications</li>
            </ul>
          </div>
          <div class="glass p-6 rounded-xl">
            <i class="fas fa-bolt text-3xl text-gradient mb-3"></i>
            <h3 class="text-xl font-semibold mb-2">CUDA Not Detected</h3>
            <ul class="text-muted text-sm space-y-1 list-disc list-inside">
              <li>Update NVIDIA drivers</li>
              <li>Reinstall PyTorch + CUDA</li>
              <li>Verify GPU in Device Manager</li>
              <li>Check CUDA installation</li>
            </ul>
          </div>
          <div class="glass p-6 rounded-xl">
            <i class="fas fa-hourglass-half text-3xl text-gradient mb-3"></i>
            <h3 class="text-xl font-semibold mb-2">Slow Generation</h3>
            <ul class="text-muted text-sm space-y-1 list-disc list-inside">
              <li>Check if CUDA is being used</li>
              <li>Update GPU drivers</li>
              <li>Close background processes</li>
              <li>Reduce resolution/steps</li>
            </ul>
          </div>
          <div class="glass p-6 rounded-xl">
            <i class="fas fa-image text-3xl text-gradient mb-3"></i>
            <h3 class="text-xl font-semibold mb-2">Poor Image Quality</h3>
            <ul class="text-muted text-sm space-y-1 list-disc list-inside">
              <li>Adjust CFG scale (8-12)</li>
              <li>Increase steps to 30-35</li>
              <li>Improve prompt quality</li>
              <li>Add negative prompts</li>
            </ul>
          </div>
          <div class="glass p-6 rounded-xl">
            <i class="fab fa-discord text-3xl text-gradient mb-3"></i>
            <h3 class="text-xl font-semibold mb-2">Discord Bot Not Working</h3>
            <ul class="text-muted text-sm space-y-1 list-disc list-inside">
              <li>Verify Bot Token is correct</li>
              <li>Check Channel IDs are valid</li>
              <li>Ensure bot has permissions</li>
              <li>Check discordEnabled in settings</li>
            </ul>
          </div>
          <div class="glass p-6 rounded-xl">
            <i class="fas fa-download text-3xl text-gradient mb-3"></i>
            <h3 class="text-xl font-semibold mb-2">Model Download Stuck</h3>
            <ul class="text-muted text-sm space-y-1 list-disc list-inside">
              <li>Check internet connection</li>
              <li>Try again (downloads resume)</li>
              <li>Clear ~/.cache/huggingface</li>
              <li>Use VPN if region-blocked</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="mb-16 reveal">
        <h2 class="text-3xl font-bold mb-6"><i class="fas fa-terminal mr-2"></i>Useful Commands</h2>
        <div class="glass p-6 rounded-xl space-y-4">
          <div>
            <p class="text-muted mb-2">Check CUDA availability:</p>
            <pre class="bg-black/40 p-3 rounded-lg text-sm">python -c "import torch; print(f'CUDA: {torch.cuda.is_available()}')"</pre>
          </div>
          <div>
            <p class="text-muted mb-2">Check GPU info:</p>
            <pre class="bg-black/40 p-3 rounded-lg text-sm">python -c "import torch; print(torch.cuda.get_device_name(0) if torch.cuda.is_available() else 'No GPU')"</pre>
          </div>
          <div>
            <p class="text-muted mb-2">Reinstall PyTorch with CUDA 11.8:</p>
            <pre class="bg-black/40 p-3 rounded-lg text-sm">pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118</pre>
          </div>
        </div>
      </div>
    </div>
  </section>


  <!-- API SECTION -->
  <section id="api" class="page-section">
    <div class="py-24">
      <div class="glass p-10 rounded-2xl mb-16 text-center reveal">
        <h1 class="text-5xl font-bold text-gradient mb-4"><i class="fas fa-code mr-3"></i>API Reference</h1>
        <p class="text-lg text-muted">REST API & WebSocket Integration</p>
      </div>

      <div class="mb-16 reveal">
        <h2 class="text-3xl font-bold mb-6"><i class="fas fa-rocket mr-2"></i>Getting Started</h2>
        <div class="glass p-6 rounded-xl space-y-4">
          <div>
            <h3 class="font-semibold mb-2">Base URL</h3>
            <code class="bg-black/40 px-4 py-2 rounded block">http://localhost:8000</code>
          </div>
          <p class="text-muted">All endpoints are available without authentication for local use.</p>
        </div>
      </div>

      <div class="mb-16 reveal">
        <h2 class="text-3xl font-bold mb-6"><i class="fas fa-plug mr-2"></i>REST Endpoints</h2>

        <div class="space-y-6">
          <div class="glass p-6 rounded-xl">
            <div class="flex items-center gap-3 mb-4">
              <span class="bg-green-500/20 text-green-400 px-3 py-1 rounded text-sm font-mono">POST</span>
              <code class="text-lg">/api/generate</code>
            </div>
            <p class="text-muted mb-4">Generate an image from a text prompt.</p>
            <pre class="bg-black/40 p-4 rounded-lg text-xs overflow-x-auto"><code>{
  "prompt": "a detailed portrait, highly detailed",
  "negative_prompt": "low quality, blurry",
  "steps": 35,
  "cfg_scale": 10.0,
  "width": 512,
  "height": 768,
  "seed": -1,
  "style": "anime_kawai"
}</code></pre>
          </div>

          <div class="glass p-6 rounded-xl">
            <div class="flex items-center gap-3 mb-4">
              <span class="bg-green-500/20 text-green-400 px-3 py-1 rounded text-sm font-mono">POST</span>
              <code class="text-lg">/api/upscale</code>
            </div>
            <p class="text-muted mb-4">Upscale an existing image.</p>
            <pre class="bg-black/40 p-4 rounded-lg text-xs overflow-x-auto"><code>{
  "filename": "gen_20260112_123456_789.png",
  "scale": 2,
  "method": "lanczos"  // or "realesrgan"
}</code></pre>
          </div>

          <div class="glass p-6 rounded-xl">
            <div class="flex items-center gap-3 mb-4">
              <span class="bg-blue-500/20 text-blue-400 px-3 py-1 rounded text-sm font-mono">GET</span>
              <code class="text-lg">/api/output-gallery</code>
            </div>
            <p class="text-muted">Get list of all generated images.</p>
          </div>

          <div class="glass p-6 rounded-xl">
            <div class="flex items-center gap-3 mb-4">
              <span class="bg-blue-500/20 text-blue-400 px-3 py-1 rounded text-sm font-mono">GET</span>
              <code class="text-lg">/api/settings</code>
            </div>
            <p class="text-muted">Get current application settings.</p>
          </div>

          <div class="glass p-6 rounded-xl">
            <div class="flex items-center gap-3 mb-4">
              <span class="bg-green-500/20 text-green-400 px-3 py-1 rounded text-sm font-mono">POST</span>
              <code class="text-lg">/api/settings</code>
            </div>
            <p class="text-muted">Update application settings (dramEnabled, nsfwStrength, etc.).</p>
          </div>

          <div class="glass p-6 rounded-xl">
            <div class="flex items-center gap-3 mb-4">
              <span class="bg-blue-500/20 text-blue-400 px-3 py-1 rounded text-sm font-mono">GET</span>
              <code class="text-lg">/api/vram-status</code>
            </div>
            <p class="text-muted">Get current VRAM usage and availability.</p>
          </div>

          <div class="glass p-6 rounded-xl">
            <div class="flex items-center gap-3 mb-4">
              <span class="bg-blue-500/20 text-blue-400 px-3 py-1 rounded text-sm font-mono">GET</span>
              <code class="text-lg">/api/queue</code>
            </div>
            <p class="text-muted">Get all queue items and statistics.</p>
          </div>

          <div class="glass p-6 rounded-xl">
            <div class="flex items-center gap-3 mb-4">
              <span class="bg-green-500/20 text-green-400 px-3 py-1 rounded text-sm font-mono">POST</span>
              <code class="text-lg">/api/queue/add</code>
            </div>
            <p class="text-muted">Add an item to the generation queue.</p>
          </div>
        </div>
      </div>

      <div class="mb-16 reveal">
        <h2 class="text-3xl font-bold mb-6"><i class="fas fa-broadcast-tower mr-2"></i>WebSocket</h2>
        <div class="glass p-6 rounded-xl space-y-4">
          <div>
            <h3 class="font-semibold mb-2">Generation with Progress</h3>
            <code class="bg-black/40 px-4 py-2 rounded block">ws://localhost:8000/ws/generate</code>
            <p class="text-muted mt-2 text-sm">Real-time progress updates during image generation.</p>
          </div>
          <div>
            <h3 class="font-semibold mb-2">Gallery Updates</h3>
            <code class="bg-black/40 px-4 py-2 rounded block">ws://localhost:8000/ws/gallery-progress</code>
            <p class="text-muted mt-2 text-sm">Live updates when new images are generated.</p>
          </div>
        </div>
      </div>

      <div class="mb-16 reveal">
        <h2 class="text-3xl font-bold mb-6"><i class="fab fa-python mr-2"></i>Python Example</h2>
        <div class="glass p-6 rounded-xl">
          <pre class="bg-black/40 p-4 rounded-lg text-xs overflow-x-auto"><code>import requests

url = "http://localhost:8000/api/generate"
data = {
    "prompt": "a beautiful sunset over mountains, masterpiece",
    "negative_prompt": "low quality, blurry",
    "steps": 30,
    "cfg_scale": 10,
    "width": 512,
    "height": 768
}

response = requests.post(url, json=data)
result = response.json()

if result["success"]:
    print(f"Generated: {result['filename']}")
    print(f"Seed: {result['seed']}")
    print(f"Time: {result['generation_time']}s")</code></pre>
        </div>
      </div>
    </div>
  </section>

</main>

<footer class="text-center text-muted py-16">
  <span class="text-sm">¬© 2026 I.R.I.S. ‚Äì built by Kai</span>
</footer>


<!-- Scripts -->
<script src="assets/js/starfield.js"></script>
<script src="assets/js/search.js"></script>

<script>
  // Page Navigation
  function navigateTo(section) {
    document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active'));
    const target = document.getElementById(section);
    if (target) {
      target.classList.add('active');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    document.querySelectorAll('.nav-btn').forEach(btn => {
      btn.classList.remove('active');
      if (btn.dataset.section === section) btn.classList.add('active');
    });
    window.location.hash = section;
  }

  // Nav button click handlers
  document.querySelectorAll('.nav-btn').forEach(btn => {
    btn.addEventListener('click', () => navigateTo(btn.dataset.section));
  });

  // Handle URL hash on load
  window.addEventListener('load', () => {
    const hash = window.location.hash.slice(1);
    if (hash) navigateTo(hash);
  });

  // Handle browser back/forward
  window.addEventListener('hashchange', () => {
    const hash = window.location.hash.slice(1);
    navigateTo(hash || 'home');
  });

  // Prevent default anchor behavior for internal links
  document.querySelectorAll('a[href^="#"]').forEach(link => {
    link.addEventListener('click', (e) => {
      const href = link.getAttribute('href');
      if (href.length > 1) {
        e.preventDefault();
        navigateTo(href.slice(1));
      }
    });
  });

  // Reveal animation
  const observer = new IntersectionObserver(entries => {
    entries.forEach(e => e.isIntersecting && e.target.classList.add("active"));
  }, { threshold: 0.1 });
  document.querySelectorAll(".reveal").forEach(el => observer.observe(el));

  // FAQ Accordion
  document.querySelectorAll('.faq-question').forEach(btn => {
    btn.addEventListener('click', () => {
      const answer = btn.nextElementSibling;
      const icon = btn.querySelector('i');
      answer.classList.toggle('hidden');
      icon.classList.toggle('fa-chevron-down');
      icon.classList.toggle('fa-chevron-up');
    });
  });

  // FAQ Filter
  const filterBtns = document.querySelectorAll('.faq-filter');
  const faqItems = document.querySelectorAll('.faq-item');

  filterBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      filterBtns.forEach(b => b.classList.remove('active', 'bg-purple-500/20', 'border-purple-500'));
      btn.classList.add('active', 'bg-purple-500/20', 'border-purple-500');
      const category = btn.getAttribute('data-category');
      faqItems.forEach(item => {
        item.style.display = (category === 'all' || item.getAttribute('data-category') === category) ? 'block' : 'none';
      });
    });
  });

  // FAQ Search
  const faqSearchInput = document.getElementById('faqSearch');
  if (faqSearchInput) {
    faqSearchInput.addEventListener('input', (e) => {
      const query = e.target.value.toLowerCase();
      faqItems.forEach(item => {
        const question = item.querySelector('.faq-question h3').textContent.toLowerCase();
        const answer = item.querySelector('.faq-answer').textContent.toLowerCase();
        const keywords = item.getAttribute('data-keywords').toLowerCase();
        item.style.display = (question.includes(query) || answer.includes(query) || keywords.includes(query)) ? 'block' : 'none';
      });
    });
  }

  // Search keyboard shortcut (/)
  document.addEventListener('keydown', (e) => {
    if (e.key === '/' && !['INPUT', 'TEXTAREA'].includes(e.target.tagName)) {
      e.preventDefault();
      navigateTo('search');
      setTimeout(() => document.getElementById('searchInput')?.focus(), 100);
    }
  });
</script>

</body>
</html>